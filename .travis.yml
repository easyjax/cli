# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: RsQM+6ji13U7GYCCdICGwXrSiWEH8zT0DevFhqmtc8nlr2bIu+VRfXSycXMGcwavxGPEWpB6W3Jb+V6w7JRbmi8g1r+lFAdJtxnrgzAl11gXN15fFBjay/LWl93mGYP+FD64D0tcz1Fwhw73vNBtgZenZoyxdNsBeM9AO0uC0vUS7rpu9uWOSXv/Tz4T/ZS8SWQ/RH19Egxprvx7OQDTOhA6GP9RwvjHUi5HksIGnhOjG0lYqRv+9Y7qDgAho4hX1vZoFHhHWvEQ1flnRPidfgSzLPWNgSFL8O8Yw8jXmoOr2DnliYExZzC0LxV/yv7EJ0zxt5sG9b+ZkM5Xw8iMjgsdicNwLQwboM+EZZqhTypKuOdGkERmb8smyHw3SHAM0D76o0BT1m2o8/rCXjg8BJxGs/t+mMvPlL8vuV/tor/UqAjjfSCkG7daJP+zoYFuEGKHq06DrAd5OQxxueTVKcPolTObyaXVm8gN5YTBUasyuKTaIRseNqb9dZxP+4G7WpBF+/4CfC387AWcVarj/ib17U1+s667cZmQLp9HpmrcGSJGFIl86dRHKe935IP7Y3m/19aBIslKHbPWZt1TChToMI8CveYQPiAgqf15IN4++fd8W/spaEgT/lxcI3m1noR/0gxwAbWX9GITupK5/hksJFFIZXodr1fj4GYbjVI=
  - secure: qGzsUJ+tsIWfJvRC1cu11ichshRegbubhCB8xcFi/1QYwtH+HsyfksCUVrIviCV+eW1+GnWbNheTN9AX8q9TwA95hqk2q0+5b9cKQWkHIg3fC45ObtWqjHt5X9EXshcFI4N0mAmN8RUmjobId1yIOOc0y1x2f9MNlKeuObwoQPfEYDPVr6T8PxNlm4/NUpDZFVtxU2i9p+A5pEAmixosF02RIe+NV3b9HdfV9LsAmPTwHOHiRNphpwNQ36SEjNT0DsTYevAbiomknCBXDKUnJmPu1lG0zMHV15GWKQ92hrko800XWxdi1yG5rtWC5PExrgvlB86NkuP6JwzALtfnWi9mmdL7vFIDw49TFUzBz+12N7j78IEWyVNxk4H9q9rKYhE/sqZv4vVqyZZaw23ByHCiU5QHa5RAqMiFFJ9PhqjKvXKntpHcAbeOjarTnx2Hrj7WuIRy5WXHI48cxUqibloL5x9vil/BTwWyi3e8hJ8wpvoMuvglQWbHfaQCQkouZuxfLh8L/CpBqdWuHz5EV6SsyovnKD2mHsfMO8TvnQLJihzbvrUu+/AZy/3xBqWCHo2WTCgJQ6CfqiSuPllJS8xBh7wE5KGg4+IGtFJh/w0VKsFhY2EF+NgvQ55K7U+SgSW/sNrNJiDyYCUoQ51hFaHU5xcPJyDns10UKvLAepU=
  - secure: TtCsijhsRcSG6eeR6zihwrzRNAaCzwsoThWjqKSb6+fAI/wXfbhWw7m9ceI0AbNL4SuUCPDiafQ6fdn17Wz5En32DpmQ9kKYnssX8konVxqLmIHhAXvnBFyDmPujlCQdR6GkESVXjhVO+IUeb3ycltlQIO9HyFZvwQrPE8tNhgl21ltwr3dlJABAYaFstrCNq4seFjxlXvksiwkNgIEzrvvUDQxdqF/+AAn+awtIAnf/I6f1yvFeP45UTkpRZCAFaeDS1qfnkXT6PKWF2ykyZ43/ZoMHFiA15tChkY8chP0i1f9rV4PRYKbJVSTUCNWWve4Pxpyo36e74pfom5iVEChnHhLXp7wTeDJ543c7aSjzcj5miOqnOnRpe1s1M0iRO0MVCAUI+t0XqAf9fKcaz6Z/KP+PKm4PHqtuYj9zUqyijth5S9uVUn/x7V6WJEAREEYsCHI190BwMV38bQM/uRB0h/OmtgV5X4sBfyKsMEWAXBrIsWlLNYZULGaidXDuRMOESXeDOmgvz1q8TFID0pIcyX7g/KIwDzD/kHi5zJk+QvFu6pMeIuFwsTLz6D0+w/lAi16wbPwp1jPGxibsddp1D2pp/FEYdVnL4RAzUabf6rNRWJWUFvEda3pJOKwL8x+GB9yHSo4qxGpw3suqTa+xDXJUXdYYON2hihDnca0=
  - secure: Yv/YRuWbFyAW8CcI5bJKst6yQw4sJMqEscPDBJDr2EEu5xCgsXRMfUio+OTQnDTrRer4bWKt9MN0BGXWXE7zIwRJBt/iRtk0j0XzFsQoDSitU1zzSawtDI5Z4rD9+dpcdbDC8di7MpKEubwnPqKkr10wgUY324nrBi4EUpAK2IIlA9p8EjAj0RKI0INZOKINGdEHnf2ATBPaBcX0nuHmMXN17yqwEnX/6kyXH8dTUyrDJcDydV7raD60+U0A4EXkKvfK0i4wcceYd/Q8F9JWCJ1mMtT346kFk9aDaOxVSlN2Fb+d/z3unIoJo0D4rlyjf3GliWbsdKrOSmO3e4S8u5i+v9y+IS+vf8RLRyqoguLvYx0FnatC762/5KPi9c0F5eTIs2nz+WhBOxb5Ionx0V6s3nNdJZ7DcV0Bu5ABhCGWZYXyloJDmZ/7Og/7UW6fH80ZlhwlrecboKNZeTyHbO7Eu+qQmDFYPCiYzJ9atxOW3h7D0p32A4eHKazjSD664Ylnv1g9n+Yn5sVXHItSW4hWaRYjjYasRy7Q/ba3Ywk8d8dlc3z8/hFkRGfV7oXxOrtNnSBTT63Rm35yUAjz+v2i4+YCccIPnAeR+Xz1w/rI7Vjiy3ZsOvuwdclpqFSyeXhLmCgOASMpFrFITs0qXi+udUjWafD4GnaDZEGO0a0=
  - secure: dY5bYyB3PeoC954TiySd+ldGuAW4puvfG2CaH/CUSNG0+5ghAdzJrg17k2ceyIITz5ExEMyLfPFOwPAVoVVDQWonrJp/jz3YezrV2ySI0KbXMS8uYRmU5yjjGZe0G10nYmJXXDhsUqOanld/Jr6ojHJfj8VYfR86NFBFP3c6fWYTp/UdFzXVZY2OJi8/p6zeq7TVH4yvVe39dlZM8hxT9VoiZ+pRDezFrLFJ3cOn+oSul3W0obYqBWIzNw/0PfJgzG0TL7gojHDWFG+Bcc2DtQJ6q626+irywXqTVAEwGskxCh225P3LnjBa56LTxnFQefwdWzxOVua3LZwv4XuMLrRU/lxZXWpPtcNbc9idJonNaoFDuoAIqBNfO+QSKql573qVETHMacrczLTpAxtwit6OG7LGaEBam3vxCR7rCyzqrV4qZNpGRTkH0gV2dgnPAOj3L9JI0Lf9eI82GLuXaMSJUn5ltpuF8Ylc4eGKDvmzoOzVfsWlM3owvXQJWunI7Y2xKxVGYLDQ9rK+OCkCopGDtlWOAGz6U6gAg2WFOwDHKdZKag6NQd382BagVNMANYvEhQws5XPnxdzmXbYCNMcmByoGvFRN0IY3v7fX0N2umnTWKdDHGtvtTjolzYQAffZoGBdAE/Q7AlTKUtbfqPkdzwpxVa5L3852RT4GsXk=
  - secure: KwHK0lWdZ6t2Wr5kpximjHzVtEr1lSLUoy5KBVgbATSlOy7fkURDzgDEq1GePXOzoH78UGrBCIGfe50tBys01678Qp7/BCxyysihTm10PaNdTjhMxE3oOb4jxKV+59hSyLpljIuyrMwDvYEGfnCirCAOwDbis6fb5/Yp24Ux8VZaFu+FdRnz2Iby1W5bGVppTQ0+xiVCutc3Lb1FQBr4h5JSdrgx3Eo4pRlPT0ZfAObLfw7ixZGJieEoyD4vZtI5aMFUSyoCIRKZ+CKUQ5hkd3XcJqDtT1mSINrr0HbAdr+ad7CbTTBR0Z6X2yZoKhv0VHze6hD9Oaakcbt5z/avHi9sCXltdsfruFKQLkYQ07WKjORYf35oR1q6hqjhcWjf+1NIpUwj1e5U9cYMnLG201shL4qW8ddrSj7L2hud8EZgY7m3n8tR3XAiEg8gNpWPzPm6LwUtHsqHikEWGwmbSU3arbOBzc5LU7SVAtOutAhxMWvbXUvXGgiFzaybp9aRBoLd7bmrcoOYjL+g5IYyMvNWe0VXoNKFqnP0rpQOYgdQh8l9YWVR+hZaEJLyiAYd+vDVudgoRiyiWcmit4quhK40usUGEj98UZ/A/RdJ/FzOWp8bEaObGesa6Gq9ZYe3g4iYdHOx12Xmrd8/SYBmzIUlatwOmWE66aowBSxK69U=
  - secure: 
  - secure: KLiMKyGn9HBnZnTfA+uiRzO6GugHj4byS4pqCe/Q2t/qM9YJyGSxOpAcqc04hJj/lBLoo5aJuw4ClHyrZcKwK9SV/u6qd1cBXW8OHFiRLKgS1hz5l1oW4nYciOUfXciRRssCdE8q9NndN6smkGmZjgfq4/ogvOKiEbJlDHO9zLsP4617hHAOE8b9iz2etsebF7SKNlT9D+b1XuD5HouXT6/yTe54DTaDMUdvwzRt1ren0VzfK+sTOXioHSjLoYG/2ce8Dqc2sBNb0jobE31t7GYUI/aKO/5tAbwAvQE8dUfGZnvtXElyGP8SiIeADE0bGkFBPZEJo5Zy4f/UuhRhovhKo0qTonrzuQayfJ8B6A58g4eb7c+kPfe+zIHBDndKviKxmjbQzQ/TFRwwAbRUBB8q5KRLXTDywnPV7JJblGpwFIjPehDgyLKQ9zrw1GF3lse7biYgzHYKH7kVXFMfDbDRN//VMLqvKForeNNvczgNtJTDHaqlasY18wm0yF+GtwaXu8D9ve+oMLA8RnMb6f3fGEmjPzLsYWCmXJQ352d2RtqVPuRurojYq48Prvibe/ryB8dRJHTVVCHPj7v6vZNMufLUv2ARucfG+olb1IrCVyFaENaelWdSfkwCdUQNlo9pF5cOQKmCHOZn9jTRv+Q6yFH8zUSVVtWA49squ3E=
  - secure: Z9FWfTsmEWU2YF0gR0DgLUnlwNutDWvvPiWJulUGnDX2B11wGlzwnEfSj1bBIYU2tGP3Bacw+sajJGbFizJ4xJd6g00rLK/lChUTvWVbjDNqPRHEEx0IyW4RJgMtKoneURfS0JWN91Xa/YUMrolJCkcb97W7ibij3nJDH08u4mzX2T9/NLFNwNemd0A7Q5aQnx+PVN8khaOdeP3PzFNuCwniViJWyGtPYfB2Cd9oRys7MbXI0E3bRUAz6ae4PWV5yM0lzCdEVm/CrbzxIytNPHG18miTt61nOJ7T5bGGsLHDECsItO4TuKikfi43hcjZ2EK9iRS5SMaM+EqnAakgV+FPN5e3xhQl3hrzlluXtupWtkM28X4+rlufAMxiGhgUkvaJohzuwvw6HZoWo5hqjkSr/lOBQ9DiSZ5KW0D8NwzRTCaUaA3tqW1h4NdMUV0GdNbWiV0ddSP55iWq3tVstYdx/1KqF4/1uNWA2O3ndU3jaW3wkP6ZauD8kpjzF5bAwFOj8nhU/l947vdAlpFvlFzYp1l0/GcpkmShNZVRz0nj8ttj/N8j4ZEwTZTNI8Qfo+aNoZ7jB+l2RiQUH6AirC4DmYbsCTh7zdZldU+s2RRnJAVNuv83RYPPyCFifCdiV7fBqKvgSlkUg20ZMdC261cBIDzTO8uRFZwyGGoqO18=
  - secure: lyWQWMoXRoK27fz+iGjZX5S4/OFwLhutRifbFxi7Ke/v7soyBPgS1VH6s3N9sxqlXq8bnd3Dsqz72nWKr9+p/MN+awjLsXur1qpglyZHqsVnC/B+gxn8mMeT9hU5XKtIoW1hiokyf6vq/Ccp07DR1Wi3YyTcIwgXfNPrrcjBXKf+gNx+Y0U8ELJZ/+99DYrtjfbus39ehUBb38htMzNVqmHOUUPlR7ear3EaBIL5EgjGbsmssj+QmREpBzs0/Cq6TcS6ofR/i4A7Hpdw19V/qMIOioVYmT5YgRhVsONbu0yWelQIVSqGkU/ZUgjeOzCmNN0h06KMUFC94kuiIolO9PM66pe9Y0B5oh38g0Ejuvr3eoZnHgvkjpN9R1AYDYBO1z/wmebGuB0gOYaW0mwHq6mVxzAfRzobl75JyJso/0mh2yWD6JbFxEuv9ek7GXWw8ZU/Lwvx3VXrXwbLsobNwyI7uVq5fLgWru0bxO+7rsMlvPYu3JTmPdK34nIeWm95B9h0vX7PdYlu73aTcM6IgN23kEC3fvDknxZQYxtz7WjLev121kw775ynC1wiLOMI51AtQy/vlOJdhZ9RclUHlRrYTu/MgV/6iDxE47hoqDLB7mK68y8Khwf36X4o2hHyv43MpsKDHzFFXVESFmO+WvST7kI7kGN3vHSrEvM91Fk=
  - secure: HIEFv1sSevGWjrEgi3FqDpQp4MGB0/ThGTMomap8jk7qXyw/G+0a9siKBnsyMyZT22X/lvHSly2fS8sqaRzEaIlGm+0/8MNLCf2N8Y6L/fVsrtNCVrpHQpGixSzEkULlZhI790LarnXF0KISOe0tWYPo9CPJNBKP2foIjpigKUCmAWkAp7BGmGSWrcuUj0C1Y7BV2RAu6juG4r/ipET0P/hIQToBaPmfwBfHf3uDg8a53keEpKt/xvIB8Z3RiQFYpjE3V92A1i8Qt9JiNskVAlrox0gFwOdgAZxMnPvEqMQJYW9nlIYwAeAHi5S8aqufjglbnMlFii0hLLdwaol8Uj6/btxRqGsOLp7WDaTTBde5UoLK21XTL8JOHzJl0sWvR3VYe6NnPoeztDuWZHfkGg4Pmvio8nyiDzlpGuUgee9Ioma0WxyVK0exJR3LfPAcc+W7XH4hEXss5j4arq8veGpG6MYZxez3hxbeHscGtnDB+Hfz7auXQ5g/yufZI8VwUGtMl9Mo+Znko3XtMf67dDs+L/Jh5U46wwZ7PltR+sLOwyOrVkNUgMkzlTFpvDS4NS5rdlsxzNq1iaQkGzW50SG0LuMc7VN/cjDBVWQSOeSAPeSoeqbDP4F5Oh8NTvm9lLRm6e6YgSQ3/RC4mkoIKDFNPqhr3QfY8Hw4Pk3xjGQ=
  - secure: EBdsk5/KnhLQPJFVNi1o5OG+2ZNRYQsKIoYW+QgtnytjpIhPI0vq8KMOM0mHhW+oI8shDsrPDqy1uYLcIcLOjHcOdRpeNVNZzJ+t39ndHJ3ks2FIpU7KWwGJBOs3af0qs9GLsx95+ivBqYjmQjd4wd3VLCGL/Y6IACK0Z+6RdKlUL9r3q0VoP1/ymUmO+imqL4QjyuhGIxVAoLEufriNQ3rjfROimNgkhJiSAwYAIfNX4mA/hFCWgHrvFKfG4oR+48SoQd7smscMvU/dmkb/RyizAq/MB6PG7jo2jI0vcoNm3iyMC0D3dboQGVhsHRh+QBKYWEg49Fgk9WXIUSLZ7ABW0ZyXnjwrKY1b2I6KkkkVMF6cmv5vcShauKGY6+tFCNALSdtDenqdsD3yJ3KnKRhyuP5IfS4JGudYMGFHn++UsbKE9Ti/3xLNnOXy1ETv9w8EXJgfcPU0zkKRIruxuMhE/kgNwy7iVuWANgqL5/5Gb3oh4tZc5mC21vwNMUhW7LvI8gR3SpuWG0o5Xg/P89YjXeaZSBIDKYzNjetg0lxc65xEJ6wy7ZIq1JhqX4grq18ZaoLhmBDZukvzVyABB0VShJ3lMNX87kIcvIME7Scx5dcKXH2kLsTpvbTj0v0yPDLlRCoaXt4il+7ah5KCcDt8PeTK/HZuea2GWklFPoI=
  - secure: JSWMHqM2Cy1FtcIR0+mO831LAMOQm9ufDb9LuUM29t0wWz+7odLIRXg0Qx9NotF51RzSJb9BFvjEqp2oBroL1/mtkeBtXbWSe3sMzZdazyrdYXL1QayQhR42AiDrJr6pzfg2gvFzGRU3wWfXkNaHXkBJyka8L05iJUwHHUuTGhVa3L30F2I7y+Dt4TM0uADAcx9iP3rVDpogf1KG7VYctQBJkA6hr/qsi/bfrtf+73Ds6fJXtWjAAK28Ptr6a06iC2wbNBnN0eT4O4UAT+KzRL8Ph/W7h27IjH6/MQsB+UEhYMn6093qHGsgxHmVqZRITcRSbatUQmTu7Ji+azNoS3oOu4wvOQALBXvXG+8GcUnfrQLvjQL3mzSnW8Czph4wODduGhNxXbft91aZHzKWVZvRFJ9NUzjXQmP3MXU7SiQ56kbG8uzhWlS46abX0a/q1jbhm3UtGSk6IPQTYBZ4uDEn/aJKygxkCdQOOzu2dMMgLR5+nmHNPvqMP+KM+25Pi1OeHjdKL9ob7bD8wfWWWQ0bEEwI3Z09YNSMMGyzhM8Aj/YkXYV1eojN1Q4XkUD8+HWKLS5KT5rAipVA3hRC0i7rpbN9t3YlvZtBbmWFK7HZGNqvoDX3goHyRYMAX8GCJyyO6zNwYguQfeDTksaV8XdZF6L8vCBnWPs6U9DneFg=
