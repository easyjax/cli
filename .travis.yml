# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: QhJvavKoNImQsgwcuQkbnDYxeh+JS0k/e2H5ixJFwvUIxEykoAPnXFlrgZAy2XZi1YgB38wQnB+1TQFATtLGyPEp/+WdEofIymKJcGah8c15SC60ouKN00Vngm92t9vbkQU/CeOz8KSgJNCUhKpOwEmIha6RpwOyTnP3zgquvxQ9npDKDJ2cqQStfqMLGIMFX1oN4YfxdtQ4Y8ibl+oGANVjEpAWmBwt7pq5FCAmS0BmiASBCeHdB2z5cCMlXFNjWyFULkdkoXUVxXSCVXz0z/NWoXarbIyph1UifYikOq3KzNP5cZK+TVA3xyM5WKrx67llMIyFhJ5xm3h0YWRSMSvVTNSUgbv5x4bVWpv1w/eyKF2LWvzHJyUNXoCy2OxqwMzfF/8q1Fay+f/X0G3V8Da7tymiFs892ZVyXwAy2XiOjtSKuNtg1aA+csDGlUjGniMGrrReGe2Q/xjvKFAc4IkHQ/VnWMNpsC5gYOcOirJ4DeM2VuGPZEvMlRWwzUYoDPjeN/U2WN2f2h3a/AAPqr9FHBxBycyAVOq56CFggqcBTZMR3cc3THTOLTg298h9hWe6kMUnKoouj71ktCmcqdo6BoU0Z0IOjlEIaGdvUORElRtf9JPYSz8dfv+xlAAjZbQmR0XLnGFnikE6TsJevOl3Tv4kfXH/bbdF3nuPSxw=
  - secure: LNyKFiW2YKq6Ui7N1BpN363NnsP2G/MIV+g0kJGMOcVGrQ61+FPOdDtoYJD/n3g/3jQ2SYQQNopP9Z3vSeAX9HL1dttNIezanEpx31OnqFAtW/5pupQdYFIRkA6DW40DnDSnHtWvMGAZ2UVBmX3r2frLDPVuF2/D1H+T6kuKtJn6oePltK0mBfs7yANGC36Ld33iNTgtBvHWk+goQ1c4gRWSz6q0i26i9wsPIvuGUIqLTCPRb4KW3gPds09NEQ0W4wL23mO6cRPoso8lASVcwcHkMoJWkt8s9evNNVK4U66Dox5yhbnn8BPkbdxJwDj42VGpFttXSUvBAvE8W3we9mgAG1AKSDmY9ea+xR/OTG7z03CyYUPM17QYbO2qpq5c+NFv2xdkSJ/GhYAy7w1S6U+8NpyPBsoAyg5ZrDg5WU9RoSXuTTK3tjWjKgAryMB6ACgEr/lrMP4kmRItqWE97UAUBAhyj7y1IpheuU2CUnCV3z91PH5d7Ibko9r7mnLa+qiAYhCoumKWBHAsq8kAZBHAjVoSsZsVaMiXEu46nN+UaNAhoEBTBVxiNauhk0hd1hczMnQj7OrQZsqOMQW/I4/BYWDV/+BVX3VWakbL/4OkLYZrlraIhR9qSjTnpnkFHe/lqE7gpADsND3uA9GbM/29ab4Z3LMWHzoFp162gaA=
  - secure: prZop+t/P2oL2uC6QK9vi/25E7aEThwxaRYt3w/lP8IaJaLITRjor0R2HX2YFOB3WJtNiCRTI6bcuhk/tOyS2yGMgDGzTDYadlfesiCSjHi+lYNDY8FndbCPfPxs6OAwms9dyyJtoBnsbQSoK7hih2ivbSxpqstEnW9F3fmNPFp/9JjNDvVbm1AYE+E3tQAF+UTNv15rjox3+zTQv8/CQX3f2brkmg42b+fHWq3uwWfCFiXMvUwZHc6WbdQ1ViNnJsHFve5NKllR+YgHILiPVPCZpzLnEW+LWFhkJc1iyc6UK3YGgX/RCMQ3c49JcpAyWzjfxRJ0QvqaVCzu841sqIkUfo5tz8+cthj72R0BKBcjWo5FmHqU1QI1LfndtszDQyLBlk05PK0KZvNnxwHtxYX9zV6HVBO/+CgM14gwlbfkMD5tLJO6cQpCGuVU8iBWDp1ehUJ0ecbBLfxnQRYDQ6CSlLgFobQXah7s8Ksx66E60KH/JdFGniTCzDBS6Xn78wHrd/uvTkQ0ugY9rfQq7scb+TodHVlro2mIyW1EPzK+u7r+La/+mgdtqfnG71kZMiz/3S5/A+/Pew/8eVyPYzssszOqZgiRZb0OD6Vy85w0oKd5MtURVr4s987P/fKgGvaw6DQkgFuh5roVK2mctRtKszVENsf9uxxBZZC9azc=
  - secure: oHGsB61wRrJ4ODZWanKrfZC6dUqP40DRVi5n+wWphfZ8oWEyNmvs7d6MrNiTKKC9YTcFKjo7tWH2GIJt2hfHs8Sa1X1cfA5rF93P2+08KrQLavS5m5gNU4HePf6xY9NQcpr96pNJgJphRL/EHMTqfNp1hZZq6SvXuOPne+q4SkJJH1H2dIu0cyFuBcA788N5iJBDlpwj315AJ2kV9SdUEdcdZSMN7FBMzb3hb3/qmzLINIFEp4NdGUR3XwG6Yo5R1sVJ8iJXOU0B84A1PbHV3Ze0h9D0So0stTn2xB/2mw0tQanMUYZXk/7AhkeBa1IJq2SVRIXk68cZIiTRIqs8vdbrPPb8Tu2vkHVrbwarpVCUXr3m9Z9vkYsxGU314+6UydLGWdn3JFXN31xwd1ettI/0secE96YxPx7ba/Iym/xd/eS3znS7mfg3T7t+O5G43kya5Ue9VhbDr58O2y1QmFGpywm89xFmNK/McfNf+RNhARC1lK5TPVmA1MtTtq6bI9WyjlHOQHr/4yAFXldUP6+eYTJL/f7blO1rBBY6xDjgnGFaYMakZLeHXPFuPb17H980I/3MP4v2i1CZtEUYk/fEhi4tI+N+EHzHOvcnw0VNlUs1H+/zKvBAz8fGywYwef3QBG6U8mI4Q7fT/szcCqLyIC1DL+U6GTYL9ywLlzI=
  - secure: Ue6dx8LNodwj+iqQqUHZtx33sfbBVlhZCO6prrN2OuUmIxVDhnarIwdgzGZcu3zRaxlJbIw50jWASQ8V6CsGd5fdT8tm9VWKniZdodiWINbJ3VDf52zhrn0cqI4dT+A1+mBsoZVwO3whVFE8jWVRCIy9qVILWDdXqqHIv+RiZewKiD0Wzklu0cdZNylgL3UqNJifzii9efLhRmM87ZeHR0VqcSgHCkKyqkB13K7G5SGwg/SqkQanqrCS9z0ilu3AKpzCW57VO3/z2qASdrNUngcvYKGR7idBOflQAdYmPIpRGj0Cady5rSJvaR0Ytn4com1k6ajVALJbqXA+T8Xv94ratq/CVnznLEqGCWEej2lEtUHwngLdg7XRv6aBMLMLbhD1Jnx/6IxRBeyY2SFEG+q8n0NfJe8HTdRErqwuWr+NmYe7HC8WtAv6VLq/riyCYC3LjPDjgWm00NjCemLRU9XzyrQWxoGj7EzLsQZyKQSkJLJTnRwE0e82B51UYQmM1dunXz5vqicJ5kSpmxSRkv40hci3KjC1BbEK/ysx6QyORbT9sxag7LIF+6KYhd4KSoisi4x+7i/UU1bTI+Smir1/+1zLj8Uul4HGO1Kt6XxtVUwaVz91NmPHoLBwVuDMoIgDj6m9XJH+GawCVRo1TEh437t/auwNSh0n3zeEwbs=
  - secure: FbosFRATijDaifJlAC7YNdx6+7Ar2dSt56EUj/moFTpS6S70crW7ABaOaAmmF4GZg6Dx9wZ6VPeT1TB0UJHWP+Hk4nFkLOcEq/Dz2XgbH6q4o00VST1Nn7WBun+bnpm4oF+CVpiahfK5BLufP7zjJ+HXqhRsfLzlz7KCH+Tq5TPTcIvMQSIfJ2eaRbfyt0b3pZpH2oGp6GPIA7x3/ktYlkQ2tX1Fo9E4L9hh4xrgS2bJsFCgDdeynf5Ko7s8PFzlplqFQxC1rpNR6eqaoUgQU3EvrUJd2cemZ2hLUsl1Erv/qbnDa1Oio77g/ffpo0gAp26e7MISPdA4cAPIRea0uz59JmqlwdO9ph+a3eyVRaTO5JkjTEzPosTKql/7VaH7BhWf09kWa9T+e88ClNNwhiYB5aagCNe+pOJ5Q0orokea7nStYSlAE1bt2nx/qK4oFKQ1zFbMLdOipnN4c+uPX3Zc4tDOqMx5b3dOHNqaRIhRtgAVCY/kK2bM3mqjt5ZCGU6Z7ZWObm5xDPR5Ruij1e5EspBycH/W5ycN3di1ursFsoIN8+GLm1EI9VYRyjaysqQEHNnEgA4ZzaRLkUSA14FRciv/78V66CRm9Lirgl0LJ2WQ4Ma0lwjXFn4JM27FnYc1dmG3po9+BsntP+GCy6DjqByWIuNf1K8CHbOedIM=
  - secure: Ejl89xTJdeoickWydr5NttaPNp1Hn/Y262yzZcv1dcd3B/+3Mh35hA3Q2unzjdAXczDTLlb0IgoXBS9Bo7njSjamdazqs29wbycfbpuQhe0OqJQaP/L2m8sJ5HgGt9O8vYzxyoUfm1DUMc+JSWjV2Z+ItSinhzSRgL21lIQPOEek6ys/k7aotJQXgzHv1QLeZWavTqeiMcZPDEdiwZYNHcUghx5mlPnXJqzzTkuKaucuuzf/H/rnWRGgKbD5tO8MSGUiUU2Vaw3ErHHJIhXRCgh/zLYAHYYmFpQ9cuQm2yqzbF4qOOXzRsCnhpWp5BCGSyRT6mBIv9UnKXDcz/y5aJK5dC9etGcq5tNzl1t7c/mpHfaE8Lqe2SkPHxUEVdKxYwVUApddV3AcBtvsMmU+EAcS2Td2HMUjKsNz+1xmw9H/C9VG8v+fzy2VbrzGuNd+NhysXTr4K4nmr3HUzyclvnKZciPWiA2FNYA9RnGBcLSl2YMY4AWXQWivaZv5Nnii0cBkGr9AWdSTXkUKuIR+eMJfj0Jlzyn8nGT3pootUCq9tdIr9pi4RzjjRhVlewesX2rBENvMCChJXrZTWeXH3TB3XXlNtfVEWvPoKAPH5HhacrLFmou1GdAN1Mx1VHc1URlg4BKJ3GppKj93zG1NHU6ZTv0drosKMDCBu6yXiRY=
